
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

            <title>DIF Presentation Exchange</title>
            <link href="./spec-up/compiled/head.css" rel="stylesheet"/>
                <script src="./spec-up/compiled/head.js"></script>
          </head>
          <body features="source logo">
            
            <svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <symbol id="github" viewBox="0 0 20 20">
    <path d="M10 0.247c-5.522 0-10 4.477-10 10 0 4.418 2.865 8.167 6.839 9.489 0.5 0.093 0.683-0.217 0.683-0.481 0-0.238-0.009-1.026-0.014-1.862-2.782 0.605-3.369-1.18-3.369-1.18-0.455-1.156-1.11-1.463-1.11-1.463-0.907-0.621 0.069-0.608 0.069-0.608 1.004 0.071 1.533 1.031 1.533 1.031 0.892 1.529 2.339 1.087 2.91 0.831 0.090-0.646 0.349-1.087 0.635-1.337-2.221-0.253-4.556-1.11-4.556-4.942 0-1.092 0.391-1.984 1.030-2.684-0.104-0.252-0.446-1.269 0.097-2.646 0 0 0.84-0.269 2.751 1.025 0.798-0.222 1.653-0.333 2.503-0.337 0.85 0.004 1.706 0.115 2.505 0.337 1.909-1.294 2.747-1.025 2.747-1.025 0.544 1.378 0.202 2.395 0.098 2.646 0.641 0.7 1.029 1.592 1.029 2.684 0 3.841-2.339 4.687-4.566 4.934 0.359 0.31 0.678 0.919 0.678 1.852 0 1.338-0.012 2.415-0.012 2.744 0 0.266 0.18 0.578 0.687 0.48 3.971-1.324 6.833-5.071 6.833-9.488 0-5.523-4.477-10-10-10z"></path>
  </symbol>
  <symbol id="nested_list" viewBox="0 0 37 32">
    <path d="M0 2.286c0-1.262 1.023-2.286 2.286-2.286s2.286 1.023 2.286 2.286c0 1.262-1.023 2.286-2.286 2.286s-2.286-1.023-2.286-2.286zM9.143 0h27.429v4.571h-27.429zM9.143 11.429c0-1.262 1.023-2.286 2.286-2.286s2.286 1.023 2.286 2.286c0 1.262-1.023 2.286-2.286 2.286s-2.286-1.023-2.286-2.286zM18.286 9.143h18.286v4.571h-18.286zM9.143 29.714c0-1.262 1.023-2.286 2.286-2.286s2.286 1.023 2.286 2.286c0 1.262-1.023 2.286-2.286 2.286s-2.286-1.023-2.286-2.286zM18.286 27.429h18.286v4.571h-18.286zM18.286 20.571c0-1.262 1.023-2.286 2.286-2.286s2.286 1.023 2.286 2.286c0 1.262-1.023 2.286-2.286 2.286s-2.286-1.023-2.286-2.286zM27.429 18.286h9.143v4.571h-9.143z"></path>
  </symbol>
</svg>

            <main>

              <header id="header" class="panel-header">
                <span id="toc_toggle" panel-toggle="toc">
                  <svg icon><use xlink:href="#nested_list"></use></svg>
                </span>
                <a id="logo" href="https://identity.foundation">
                  <img src="https://rawcdn.githack.com/decentralized-identity/decentralized-identity.github.io/a3ca39717e440302d1fd99a796e7f00e1c42eb2d/images/logo-flat.svg" />
                </a>
                <span issue-count animate panel-toggle="repo_issues">
                  <svg icon><use xlink:href="#github"></use></svg>
                </span>
              </header>

              <article id="content">
                <h1 id="presentation-exchange"><a class="toc-anchor" href="#presentation-exchange">§</a> Presentation Exchange</h1>
<p><strong>Specification Status:</strong> Strawman</p>
<p><strong>Latest Draft:</strong>
<a href="https://identity.foundation/presentation-exchange">identity.foundation/presentation-exchange</a></p>
<!-- -->
<dl>
<dt><strong>Editors:</strong></dt>
<dd><a href="https://www.linkedin.com/in/dbuchner/">Daniel Buchner</a> (Microsoft)</dd>
<dd><a href="https://www.linkedin.com/in/bzundel/">Brent Zundel</a> (Evernym)</dd>
<dd><a href="https://www.linkedin.com/in/rado0x54/">Martin Riedel</a> (Civic Technologies)</dd>
<dt><strong>Contributors:</strong></dt>
<dd><a href="https://www.linkedin.com/in/cohengabe/">Gabe Cohen</a> (Workday)</dd>
<dd><a href="https://www.linkedin.com/in/or13b/">Orie Steele</a> (Transmute)</dd>
<dd><a href="https://www.linkedin.com/in/waynebuilds/">Wayne Chang</a> (Spruce)</dd>
<dt><strong>Participate:</strong></dt>
<dd><a href="https://github.com/decentralized-identity/presentation-exchange">GitHub repo</a></dd>
<dd><a href="https://github.com/decentralized-identity/presentation-exchange/issues">File a bug</a></dd>
<dd><a href="https://github.com/decentralized-identity/presentation-exchange/commits/master">Commit history</a></dd>
</dl>
<hr>
<h2 id="abstract"><a class="toc-anchor" href="#abstract">§</a> Abstract</h2>
<p>A common activity between peers in identity systems that feature the ability to
generate self-asserted and third-party issued claims is the demand and
submission of proofs from a Holder to a Verifier. This flow implicitly requires
the Holder and Verifier have a known mechanism to facilitate the two primary
steps in a proving exchange: the way Verifiers define the proof requirements,
and how Holders must encode submissions of proof to align with those
requirements.</p>
<p>To address these needs, this Presentation Exchange specification codifies the
<code>Presentation Definition</code> data format Verifiers can use to articulate proof
requirements, as well as the <code>Presentation Submission</code> data format Holders can
use to submit proofs in accordance with them. The specification is designed to
be both credential format and transport envelope agnostic, meaning an implementer
can use <a href="https://tools.ietf.org/html/rfc7519">JSON Web Tokens (JWTs)</a>,
<a href="https://www.w3.org/TR/vc-data-model/">Verifiable Credentials (VCs)</a>,
<a href="https://www.w3.org/TR/vc-data-model/#json-web-token-extensions">JWT-VCs</a>,
or any other credential format, and convey them
via <a href="https://openid.net/connect/">Open ID Connect</a>, <a href="https://identity.foundation/didcomm-messaging/spec/">DIDComm</a>,
<a href="https://w3c-ccg.github.io/credential-handler-api/">Credential Handler API</a>,
or any other transport envelope. The goal of
this flexible format and transport agnostic mechanism is to nullify the
redundant handling, code, and hassle involved in presenting and satisfying
logical requirements across formats and transport envelopes.</p>
<p>This specification does not endeavor to define transport protocols, specific
endpoints, or other means for conveying the formatted objects it codifies, but
encourages other specifications and projects that do define such mechanisms to
utilize these data formats within their flows.</p>
<h2 id="status-of-this-document"><a class="toc-anchor" href="#status-of-this-document">§</a> Status of This Document</h2>
<p>Presentation Exchange is a draft specification under development within the
Decentralized Identity Foundation (DIF), and designed to incorporate the
requirements and learnings from related work of the most active industry players
into a shared specification that meets the collective needs of the community.
This spec is regularly updated to reflect relevant changes, and we encourage
active engagement on GitHub (see above) and other mediums (e.g. DIF) where this
work is being done.</p>
<h2 id="terminology"><a class="toc-anchor" href="#terminology">§</a> Terminology</h2>
<table>
<thead>
<tr>
<th style="text-align:left">Term</th>
<th style="text-align:left">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Decentralized Identifier (DID)</td>
<td style="text-align:left">Unique ID string and PKI metadata document format for describing the cryptographic keys and other fundamental PKI values linked to a unique, user-controlled, self-sovereign identifier in a target system (i.e. blockchain, distributed ledger).</td>
</tr>
<tr>
<td style="text-align:left">Holder</td>
<td style="text-align:left">The entity that submits proofs to a Verifier to satisfy the requirements described in a Presentation Definition</td>
</tr>
<tr>
<td style="text-align:left">Verifier</td>
<td style="text-align:left">The entity that defines what proofs they require from a Holder (via a Presentation Definition) in order to proceed with an interaction.</td>
</tr>
</tbody>
</table>
<h2 id="localization"><a class="toc-anchor" href="#localization">§</a> Localization</h2>
<p>To support localization, <a href="https://tools.ietf.org/html/bcp47">IETF BCP 47</a> one
<strong><strong>MAY</strong></strong> use language tags under the <code>locale</code> property in both a <code>Presentation Definition</code> and <code>Presentation Submission</code>. If a Definition has a language tag,
so should the corresponding Submission. A Submission may have a language tag
regardless of the presence of one in the corresponding Definition.</p>
<p>Wrapping transports such as HTTP may choose to utlilize the <code>locale</code> property in
conjunction with the
<a href="https://tools.ietf.org/html/rfc7231#section-5.3.5">Accept-Language</a> header.</p>
<tab-panels selected-index="0">
<nav>
  <button type="button">Presentation Definition with Locale</button>
  <button type="button">Presentation Submission with Locale</button>
</nav>
<section>
<div id="presentation-definition-with-locale" class="notice example"><a class="notice-link" href="#presentation-definition-with-locale">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"presentation_definition"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"locale"</span><span class="token operator">:</span> <span class="token string">"en-US"</span><span class="token punctuation">,</span>
    <span class="token property">"input_descriptors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"name_input"</span><span class="token punctuation">,</span>
      <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://name-standards.com/name.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Full Legal Name"</span><span class="token punctuation">,</span>
        <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need your full legal name."</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</section>
<section>
<div id="presentation-submission-with-locale" class="notice example"><a class="notice-link" href="#presentation-submission-with-locale">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"presentation_submission"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"locale"</span><span class="token operator">:</span> <span class="token string">"de-DE"</span><span class="token punctuation">,</span>
    <span class="token property">"descriptor_map"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"name_input"</span><span class="token punctuation">,</span>
      <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"$.verifiableCredential.[0]"</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</section>
</tab-panels>
<h2 id="presentation-definition"><a class="toc-anchor" href="#presentation-definition">§</a> Presentation Definition</h2>
<p>Presentation Definitions are objects that articulate what proofs a Verifier
requires. These help the Verifier to decide how or whether to interact with a
Holder. Presentation Definitions are composed of inputs, which describe the
forms and details of the proofs they require, and optional sets of selection
rules, to allow Holders flexibility in cases where many different types of
proofs may satisfy an input requirement.</p>
<tab-panels selected-index="0">
<nav>
  <button type="button">Basic Example</button>
  <button type="button">Single Group Example</button>
  <button type="button">Multi-Group Example</button>
</nav>
<section>
<div id="presentation-definition---basic-example" class="notice example"><a class="notice-link" href="#presentation-definition---basic-example">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token comment">// VP, OIDC, DIDComm, or CHAPI outer wrapper</span>

  <span class="token property">"presentation_definition"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"input_descriptors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"banking_input"</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://bank-standards.com/customer.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Bank Account Information"</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need your bank and account information."</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"limit_disclosure"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.iss"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"The credential must be from one of the specified issuers"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"did:example:123|did:example:456"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"citizenship_input"</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"hub://did:foo:123/Collections/schema.us.gov/passport.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"US Passport"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.birth_date"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.birth_date"</span><span class="token punctuation">,</span> <span class="token string">"$.birth_date"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span>
                <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token string">"1999-5-16"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>

      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</section>
<section>
<div id="presentation-definition---single-group-example" class="notice example"><a class="notice-link" href="#presentation-definition---single-group-example">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token comment">// VP, OIDC, DIDComm, or CHAPI outer wrapper</span>

  <span class="token property">"presentation_definition"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Citizenship Information"</span><span class="token punctuation">,</span>
      <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span>
      <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"A"</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"input_descriptors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"citizenship_input_1"</span><span class="token punctuation">,</span>
        <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://eu.com/claims/DriversLicense.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"EU Driver's License"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.iss"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"The credential must be from one of the specified issuers"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"did:example:gov1|did:example:gov2"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.dob"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.dob"</span><span class="token punctuation">,</span> <span class="token string">"$.dob"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span>
                <span class="token property">"maximum"</span><span class="token operator">:</span> <span class="token string">"1999-5-16"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"citizenship_input_2"</span><span class="token punctuation">,</span>
        <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"hub://did:foo:123/Collections/schema.us.gov/passport.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"US Passport"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.birth_date"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.birth_date"</span><span class="token punctuation">,</span> <span class="token string">"$.birth_date"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span>
                <span class="token property">"maximum"</span><span class="token operator">:</span> <span class="token string">"1999-5-16"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</section>
<section>
<div id="presentation-definition---multi-group-example" class="notice example"><a class="notice-link" href="#presentation-definition---multi-group-example">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token comment">// VP, OIDC, DIDComm, or CHAPI outer wrapper</span>
  
  <span class="token property">"presentation_definition"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Banking Information"</span><span class="token punctuation">,</span>
        <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to know if you have an established banking history."</span><span class="token punctuation">,</span>
        <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span>
        <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"A"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Employment Information"</span><span class="token punctuation">,</span>
        <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to know that you are currently employed."</span><span class="token punctuation">,</span>
        <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
        <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"B"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Citizenship Information"</span><span class="token punctuation">,</span>
        <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span>
        <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"C"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"input_descriptors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"banking_input_1"</span><span class="token punctuation">,</span>
        <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://bank-standards.com/customer.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Bank Account Information"</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need your bank and account information."</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"limit_disclosure"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.iss"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"The credential must be from one of the specified issuers"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"did:example:123|did:example:456"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.account[*].account_number"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.account[*].account_number"</span><span class="token punctuation">,</span> <span class="token string">"$.account[*].account_number"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need your bank account number for processing purposes"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"minLength"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">"maxLength"</span><span class="token operator">:</span> <span class="token number">12</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.account[*].routing_number"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.account[*].routing_number"</span><span class="token punctuation">,</span> <span class="token string">"$.account[*].routing_number"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"You must have an account with a German, US, or Japanese bank account"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"^DE|^US|^JP"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"banking_input_2"</span><span class="token punctuation">,</span>
        <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"https://bank-schemas.org/1.0.0/accounts.json"</span><span class="token punctuation">,</span>
            <span class="token string">"https://bank-schemas.org/2.0.0/accounts.json"</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Bank Account Information"</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need your bank and account information."</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.iss"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"The credential must be from one of the specified issuers"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"did:example:123|did:example:456"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> 
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.account[*].id"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.account[*].id"</span><span class="token punctuation">,</span> <span class="token string">"$.account[*].id"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need your bank account number for processing purposes"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"minLength"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">"maxLength"</span><span class="token operator">:</span> <span class="token number">12</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.account[*].route"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.account[*].route"</span><span class="token punctuation">,</span> <span class="token string">"$.account[*].route"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"You must have an account with a German, US, or Japanese bank account"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"^DE|^US|^JP"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"employment_input"</span><span class="token punctuation">,</span>
        <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"B"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://business-standards.org/schemas/employment-history.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Employment History"</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to know your work history."</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.jobs[*].active"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"boolean"</span><span class="token punctuation">,</span>
                <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"true"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"citizenship_input_1"</span><span class="token punctuation">,</span>
        <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"C"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://eu.com/claims/DriversLicense.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"EU Driver's License"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.iss"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"The credential must be from one of the specified issuers"</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"did:example:gov1|did:example:gov2"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.dob"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.dob"</span><span class="token punctuation">,</span> <span class="token string">"$.dob"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span>
                <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token string">"1999-5-16"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"citizenship_input_2"</span><span class="token punctuation">,</span>
        <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"C"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"hub://did:foo:123/Collections/schema.us.gov/passport.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"US Passport"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.birth_date"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.birth_date"</span><span class="token punctuation">,</span> <span class="token string">"$.birth_date"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
                <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span>
                <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token string">"1999-5-16"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</tab-panels>
<p>The following properties are for use at the top-level of the resource — all
other properties that are not defined below MUST be ignored:</p>
<ul>
<li><code>name</code> - The resource <strong><strong>MAY</strong></strong> contain this property, and if present its
value <strong><strong>SHOULD</strong></strong> be a human-friendly name that describes what the
Presentation Definition pertains to.</li>
<li><code>purpose</code> - The resource <strong><strong>MAY</strong></strong> contain this property, and if present its
value <strong><strong>MUST</strong></strong> be a string that describes the purpose for which the
Presentation Definition’s inputs are being requested.</li>
<li>The resource <strong><strong>MAY</strong></strong> include a <code>format</code> property, and its value
<strong><strong>MUST</strong></strong> be an object with one or more properties matching the registered
<a href="#credential-format-designations">Credential Format Designations</a> (<code>jwt</code>,
<code>jwt_vc</code>, <code>jwt_vp</code>, etc.) to inform the Holder of the credential format
configurations the Verifier can process. The value for each property included
<strong><strong>MUST</strong></strong> be an object composed as follows:
<ul>
<li>
<p>The object <strong><strong>MAY</strong></strong> include a format-specific property (i.e. <code>alg</code>,
<code>proof_type</code>) that expresses which algorithms the Verifier supports for the
format, and if present, its value <strong><strong>MUST</strong></strong> be an array of one or more
of the format-specific algorithmic identifier references, as noted in the
<a href="#credential-format-designations">Credential Format Designations</a> section.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"presentation_definition"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"format"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"jwt"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"alg"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"EdDSA"</span><span class="token punctuation">,</span> <span class="token string">"ES256K"</span><span class="token punctuation">,</span> <span class="token string">"ES384"</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"jwt_vc"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"alg"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"ES256K"</span><span class="token punctuation">,</span> <span class="token string">"ES384"</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"jwt_vp"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"alg"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"EdDSA"</span><span class="token punctuation">,</span> <span class="token string">"ES256K"</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"ldp_vc"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"proof_type"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"JsonWebSignature2020"</span><span class="token punctuation">,</span>
          <span class="token string">"Ed25519Signature2018"</span><span class="token punctuation">,</span>
          <span class="token string">"EcdsaSecp256k1Signature2019"</span><span class="token punctuation">,</span>
          <span class="token string">"RsaSignature2018"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"ldp_vp"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"proof_type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Ed25519Signature2018"</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"ldp"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"proof_type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"RsaSignature2018"</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
<li><code>submission_requirement</code> - The resource <strong><strong>MAY</strong></strong> contain this property,
and if present, its value <strong><strong>MUST</strong></strong> conform to the Submission Requirement
Format. If not present, all inputs listed in the <code>input_descriptors</code> array are
required for submission. The description for the format of this property is in
the <a href="#submission-requirement"><code>Submission Requirement</code></a> section below.</li>
<li><code>input_descriptors</code> - The resource <strong><strong>MUST</strong></strong> contain this property, and
its value <strong><strong>MUST</strong></strong> be an array of Input Descriptor objects. If no
<code>submission_requirement</code> is present, all inputs listed in the
<code>input_descriptors</code> array are required for submission. The composition of
values under this property are described in the <a href="#input-descriptors"><code>Input Descriptors</code></a> section below.</li>
</ul>
<h3 id="submission-requirements"><a class="toc-anchor" href="#submission-requirements">§</a> Submission Requirements</h3>
<p><em>Presentation Definitions</em> <strong><strong>MAY</strong></strong> include <em>Submission Requirements</em>,
which are objects that define what combinations of inputs must be submitted
to comply with the requirements a Verifier has for proceeding in a flow (e.g.
credential issuance, allowing entry, accepting an application).
<em>Submission Requirements</em> introduce a set of rule types and mapping instructions
a User Agent can ingest to present requirement optionality to the user, and
subsequently submit inputs in a way that maps back to the rules the verifying
party has asserted (via a <code>Proof Submission</code> object). The following section
defines the format for <em>Submission Requirement</em> objects, and the selection syntax
verifying parties can use to specify which combinations of inputs are acceptable.</p>
<p>If present, all members of the <code>submission_requirements</code> array <strong><strong>MUST</strong></strong>
be satisfied, and all input_descriptors <strong><strong>MUST</strong></strong> be grouped. Any unused
input_descriptors that remain after satisfying all submission_requirements
<strong><strong>MUST</strong></strong> be ignored.</p>
<div id="submission-requirement" class="notice example"><a class="notice-link" href="#submission-requirement">EXAMPLE</a><pre class="language-json"><code class="language-json">  <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Banking Information"</span><span class="token punctuation">,</span>
      <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to know if you have an established banking history."</span><span class="token punctuation">,</span>
      <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span>
      <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"A"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Employment Information"</span><span class="token punctuation">,</span>
      <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to know that you are currently employed."</span><span class="token punctuation">,</span>
      <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
      <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"B"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Citizenship Information"</span><span class="token punctuation">,</span>
      <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span>
      <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">"from_nested"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"United States Citizenship Proofs"</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need you to prove you are a US citizen."</span><span class="token punctuation">,</span>
          <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
          <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"C"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"European Union Citizenship Proofs"</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need you to prove you are a citizen of a EU country."</span><span class="token punctuation">,</span>
          <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
          <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"D"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
</code></pre>
</div>
<h4 id="submission-requirement-objects"><a class="toc-anchor" href="#submission-requirement-objects">§</a> Submission Requirement Objects</h4>
<p><em>Submission Requirement Objects</em> describe combinations of inputs that
<strong><strong>must</strong></strong> be submitted via a <a href="#presentation-submission">Presentation Submission</a>
to satisfy Verifier demands. <em>Submission Requirement Objects</em> are JSON objects
constructed as follows:</p>
<ol>
<li>The object  <strong><strong>MUST</strong></strong> contain a <code>rule</code> property, and its value
<strong><strong>MUST</strong></strong> be a string matching one of the <a href="#submission-requirement-rules">Submission Requirement
Rules</a> values listed in the section below.</li>
<li>The object <strong><strong>MUST</strong></strong> contain either a <code>from</code> 'or <code>from_nested</code> property.
If both properties are present, the implementation <em><strong>MUST</strong></em> produce an
error. The values of the <code>from</code> and <code>from_nested</code> properties are defined as
follows:
<ul>
<li><code>from</code> - the value of the <code>from</code> property <strong><strong>must</strong></strong> be a <code>group</code> string
matching one of the <code>group</code> strings specified for one or more <em>Input
Descriptor</em> objects.</li>
<li><code>from_nested</code> - an array of nested <em>Submission Requirement Objects</em>.</li>
</ul>
</li>
<li>The object  <strong><strong>MAY</strong></strong> contain a <code>name</code> property, and if present, its value
<strong><strong>MUST</strong></strong> be a string which <strong><strong>MAY</strong></strong> be used by a consuming User Agent
to display the general name of the requirement set to a user.</li>
<li>The object <strong><strong>MAY</strong></strong> contain a <code>purpose</code> property and, if present, its
value <strong><strong>MUST</strong></strong> be a string that describes the purpose for which the
specified requirement is being asserted.</li>
<li>The object <strong><strong>MAY</strong></strong> contain additional properties as required by
<a href="#submission-requirement-rules">Submission Requirement Rules</a>, such as
<code>count</code>, <code>min</code>, and <code>max</code> for the <code>&quot;pick&quot;</code> rule.</li>
</ol>
<h4 id="submission-requirement-rules"><a class="toc-anchor" href="#submission-requirement-rules">§</a> Submission Requirement Rules</h4>
<p><a href="#submission-requirement-rules"><em>Submission Requirement Rules</em></a>
{id=“requirement-rules”} are used within <em>Submission Requirement Objects</em> to
describe the specific combinatorial rule that must be applied to submit a
particular subset of required inputs. Rules are selected by populating the
<code>rule</code> property with the corresponding string. An implementation <strong><strong>MUST</strong></strong>
support the following standard types:</p>
<h5 id="all-rule"><a class="toc-anchor" href="#all-rule">§</a> <code>all</code> rule</h5>
<ul>
<li>The object <strong><strong>must</strong></strong> contain a <code>rule</code> property, and its value <strong><strong>MUST</strong></strong>
be the string <code>&quot;all&quot;</code>.</li>
<li>The object <strong><strong>MUST</strong></strong> contain either a <code>from</code> or <code>from_nested</code> property,
which behave as follows when used in an <code>all</code> rule:
<ul>
<li><code>from</code> - when used within an <code>all</code> rule, every <em>Input Descriptor</em> matching
the group string of the <code>from</code> value must be submitted to the Verifier.</li>
<li><code>from_nested</code> - when used within an <code>all</code> rule, all the <em>Submission
Requirement Objects</em> specified in the <code>from_nested</code> array must be satisfied
by the inputs submitted in a subsequent
<a href="#presentation-submission">Presentation Submission</a>.</li>
</ul>
</li>
</ul>
<div id="submission-requirement,-all,-group" class="notice example"><a class="notice-link" href="#submission-requirement,-all,-group">EXAMPLE</a><pre class="language-json"><code class="language-json">  <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Submission of educational transcripts"</span><span class="token punctuation">,</span>
      <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need all your educational transcripts to process your application"</span><span class="token punctuation">,</span>
      <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
      <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"A"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
</code></pre>
</div>
<h5 id="pick-rule"><a class="toc-anchor" href="#pick-rule">§</a> <code>pick</code> rule</h5>
<ul>
<li>The <em>Submission Requirement</em> object’s <code>rule</code> property <strong><strong>MUST</strong></strong> contain
the string value <code>&quot;pick&quot;</code>.</li>
<li>The <em>Submission Requirement</em> object <strong><strong>MAY</strong></strong> contain a <code>count</code> property,
and if present, its value <strong><strong>MUST</strong></strong> be an integer greater than zero.</li>
<li>The <em>Submission Requirement</em> object <strong><strong>MAY</strong></strong> contain a <code>min</code> property,
and if present, its value <strong><strong>MUST</strong></strong> be an integer greater than or equal to zero.</li>
<li>The <em>Submission Requirement</em> object <strong><strong>MAY</strong></strong> contain a <code>max</code> property,
and if present, its value <strong><strong>MUST</strong></strong> be an integer greater than zero, and,
if also present, greater than the value of the <code>min</code> property.</li>
<li>The <em>Submission Requirement</em> object <strong><strong>MUST</strong></strong> contain either a <code>from</code>
property or a <code>from_nested</code> property, and of whichever are present, all inputs
from the <code>from</code> group string specified or <em>Submission Requirements</em> in the
<code>from_nested</code> array <strong><strong>MUST</strong></strong> be submitted or satisfied.</li>
</ul>
<p>If the <code>from</code> property contains a <code>group</code> string, it directs the consumer of
the <em>Presentation Definition</em> to submit all members of the matching <code>group</code>
string. In the following example, the <code>from</code> property contains a <code>group</code>
string to require a single member of group <code>&quot;B&quot;</code>:</p>
<div id="submission-requirement,-pick,-group" class="notice example"><a class="notice-link" href="#submission-requirement,-pick,-group">EXAMPLE</a><pre class="language-json"><code class="language-json">  <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Citizenship Proof"</span><span class="token punctuation">,</span>
      <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to confirm you are a citizen of one of the following countries"</span><span class="token punctuation">,</span>
      <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span>
      <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"B"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
</code></pre>
</div>
<div id="submission-requirement,-pick,-min/max" class="notice example"><a class="notice-link" href="#submission-requirement,-pick,-min/max">EXAMPLE</a><pre class="language-json"><code class="language-json">  <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Citizenship Proof"</span><span class="token punctuation">,</span>
      <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to confirm you are a citizen of one of the following countries"</span><span class="token punctuation">,</span>
      <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span>
      <span class="token property">"min"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">"max"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"B"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
</code></pre>
</div>
<p>If the <code>from</code> property contains an array of nested <em>Submission Requirement</em>
objects, it directs the consumer of the <em>Presentation Definition</em> to submit
members such that the number of satisfied <em>Submission Requirement</em> objects is
exactly <code>count</code>. In the following example, the <code>from</code> property contains an
array of nested <em>Submission Requirement</em> objects to require either all members
from group <code>&quot;A&quot;</code> or two members from group <code>&quot;B&quot;</code>:</p>
<div id="submission-requirement,-pick,-nested" class="notice example"><a class="notice-link" href="#submission-requirement,-pick,-nested">EXAMPLE</a><pre class="language-json"><code class="language-json">  <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Confirm banking relationship or employment and residence proofs"</span><span class="token punctuation">,</span>
      <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"Submit your bank statement or proofs of employment and residence to process your loan"</span><span class="token punctuation">,</span>
      <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span>
      <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">"from_nested"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span> <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"A"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token string">"pick"</span><span class="token punctuation">,</span> <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">"from"</span><span class="token operator">:</span> <span class="token string">"B"</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
</code></pre>
</div>
<h4 id="json-schema"><a class="toc-anchor" href="#json-schema">§</a> JSON Schema</h4>
<p>The following JSON Schema Draft 7 definition summarizes many of the
format-related rules above:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"$schema"</span><span class="token operator">:</span> <span class="token string">"http://json-schema.org/draft-07/schema#"</span><span class="token punctuation">,</span>
  <span class="token property">"definitions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"oneOf"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"count"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"from"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"rule"</span><span class="token punctuation">,</span> <span class="token string">"from"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"count"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"from_nested"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
              <span class="token property">"minItems"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/submission_requirements"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"rule"</span><span class="token punctuation">,</span> <span class="token string">"from_nested"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
  <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
      <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/submission_requirements"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"submission_requirements"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="property-values-and-evaluation"><a class="toc-anchor" href="#property-values-and-evaluation">§</a> Property Values and Evaluation</h4>
<p>The following property value and evaluation guidelines summarize many of the
processing-related rules above:</p>
<ol>
<li>The <code>rule</code> property value may be either <code>&quot;all&quot;</code> or <code>&quot;pick&quot;</code>, and the
implementation <strong><strong>MUST</strong></strong> produce an error if an unknown <code>rule</code> value is
present.</li>
<li>The <em>Submission Requirement</em>  <strong><strong>MUST</strong></strong> contain a <code>from</code> property or a
<code>from_nested</code> property, not both, and if present their values must be a string
or an array, respectively. If any of these conditions are not met, the
implementation <strong><strong>MUST</strong></strong> produce an error.</li>
<li>To determine whether a <em>Submission Requirement</em> is satisfied, used the
following algorithm:
<ul>
<li>If the <code>rule</code> is <code>&quot;all&quot;</code>, then the <em>Submission Requirement</em> MUST contain a
<code>from</code> property or a <code>from_nested</code> property, and of whichever are present,
all inputs from the <code>from</code> group string specified or <em>Submission
Requirements</em> in the <code>from_nested</code> array <strong><strong>MUST</strong></strong> be submitted or
satisfied, respectively.</li>
<li>If the <code>rule</code> is <code>&quot;pick&quot;</code>, then the <em>Submission Requirement</em> MUST contain
a <code>from</code> property or a <code>from_nested</code> property, and of whichever are
present, they must be evaluated as follows:
<ul>
<li>if a <code>count</code> property is present, the number of inputs submitted, or
nested <em>Submission Requirements</em> satisfied, <strong><strong>MUST</strong></strong> be exactly
equal to the value of <code>count</code> property.</li>
<li>if a <code>min</code> property is present, the number of inputs submitted, or
nested <em>Submission Requirements</em> satisfied, <strong><strong>MUST</strong></strong> be equal to
or greater than the value of the <code>min</code> property.</li>
<li>if a <code>max</code> property is present, the number of inputs submitted, or
nested <em>Submission Requirements</em> satisfied, <strong><strong>MUST</strong></strong> be equal to
or less than the value of the <code>max</code> property.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="input-descriptors"><a class="toc-anchor" href="#input-descriptors">§</a> Input Descriptors</h3>
<p><em>Input Descriptors</em> are objects used to describe the information a Verifier
requires of a Holder before they will proceed with an interaction. If no <code>submission_requirement</code> objects are present, all <code>input_descriptor</code> objects <strong><strong>MUST</strong></strong> be satisfied.</p>
<p><em>Input Descriptor Objects</em> contain a schema URI that links to the schema
of the required input data, constraints on data values, and an explanation
why a certain item or set of data is being requested:</p>
<tab-panels selected-index="0">
<nav>
  <button type="button">Sample Descriptor</button>
  <button type="button">Descriptor for ID Tokens</button>
</nav>
<section>
<div id="example-1" class="notice example"><a class="notice-link" href="#example-1">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token property">"input_descriptors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"banking_input_1"</span><span class="token punctuation">,</span>
    <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"https://bank-schemas.org/1.0.0/accounts.json"</span><span class="token punctuation">,</span>
        <span class="token string">"https://bank-schemas.org/2.0.0/accounts.json"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Bank Account Information"</span><span class="token punctuation">,</span>
      <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need your bank and account information."</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.issuer"</span><span class="token punctuation">,</span> <span class="token string">"$.iss"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"The credential must be from one of the specified issuers"</span><span class="token punctuation">,</span>
          <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
            <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"did:example:123|did:example:456"</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> 
          <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.account[*].id"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.account[*].id"</span><span class="token punctuation">,</span> <span class="token string">"$.account[*].id"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need your bank account number for processing purposes"</span><span class="token punctuation">,</span>
          <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
            <span class="token property">"minLength"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token property">"maxLength"</span><span class="token operator">:</span> <span class="token number">12</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialSubject.account[*].route"</span><span class="token punctuation">,</span> <span class="token string">"$.vc.credentialSubject.account[*].route"</span><span class="token punctuation">,</span> <span class="token string">"$.account[*].route"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"You must have an account with a German, US, or Japanese bank account"</span><span class="token punctuation">,</span>
          <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
            <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"^DE|^US|^JP"</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
</div>
</section>
<section>
<div id="example-2" class="notice example"><a class="notice-link" href="#example-2">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"employment_input_xyz_gov"</span><span class="token punctuation">,</span>
  <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"B"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://login.idp.com/xyz.gov/.well-known/openid-configuration"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Verify XYZ Government Employment"</span><span class="token punctuation">,</span>
    <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to know if you currently work at an agency in the XYZ government"</span><span class="token punctuation">,</span>
    <span class="token property">"metadata"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"client_id"</span><span class="token operator">:</span> <span class="token string">"40be4fb5-7f3a-470b-aa37-66ed43821bd7"</span><span class="token punctuation">,</span>
      <span class="token property">"redirect_uri"</span><span class="token operator">:</span> <span class="token string">"https://tokens.xyz.gov/verify"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.status"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
          <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token string">"active"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</section>
</tab-panels>
<h4 id="input-descriptor-objects"><a class="toc-anchor" href="#input-descriptor-objects">§</a> Input Descriptor Objects</h4>
<p><em>Input Descriptors</em> are objects that describe what type of input data/credential,
or sub-fields thereof, is required for submission to the Verifier. <em>Input
Descriptor Objects</em> are composed as follows:</p>
<ul>
<li>The object <strong><strong>MUST</strong></strong> contain an <code>id</code> property. The value of the <code>id</code>
property <strong><strong>MUST</strong></strong> be a unique identifying string that does not conflict
with the <code>id</code> of another <em>Input Descriptor</em> in the same <em>Presentation
Definition</em> object.</li>
<li>The object <strong><strong>MAY</strong></strong> contain a <code>group</code> property, and if present, its value
<strong><strong>MUST</strong></strong> match one of the grouping strings listed the <code>from</code> values of a
<a href="#requirement-rule-objects"><em>Requirement Rule Object</em></a>.</li>
<li>The object <strong><strong>MUST</strong></strong> contain a <code>schema</code> property, and its value
<strong><strong>MUST</strong></strong> be an object composed as follows:
<ul>
<li>The object <strong><strong>MUST</strong></strong> contain a <code>uri</code> property, and its value
<strong><strong>MUST</strong></strong> be an array consisting of one or more valid URI strings for
the acceptable credential schemas. A common use of multiple entries in
the <code>uri</code> array is when multiple versions of a credential schema exist
and there is a desire to express support for more than one version.
This field allowing multiple URIs is not intended to be used as
a mechanism for including references to fundamentally different schemas,
and <strong><strong>SHOULD NOT</strong></strong> be used by the implementer this way.</li>
<li>The object <strong><strong>MAY</strong></strong> contain a <code>name</code> property, and if present its
value <strong><strong>SHOULD</strong></strong> be a human-friendly name that describes what the
target schema represents.</li>
<li>The object <strong><strong>MAY</strong></strong> contain a <code>purpose</code> property, and if present its
value <strong><strong>MUST</strong></strong> be a string that describes the purpose for which the
credential’s data is being requested.</li>
<li>The object <strong><strong>MAY</strong></strong> contain a <code>metadata</code> property, and if present its
value <strong><strong>MUST</strong></strong> be an object with metadata properties that describe
any information specific to the acquisition, formulation, or details of
the credential in question.</li>
</ul>
</li>
<li>The object <strong><strong>MAY</strong></strong> contain a <code>constraints</code> property, and its value
<strong><strong>MUST</strong></strong> be an object composed as follows:
<ul>
<li>
<p>The object <strong><strong>MAY</strong></strong> contain a <code>limit_disclosure</code> property, and if
present its value <strong><strong>MUST</strong></strong> be a boolean value. Setting the property
to <code>true</code> indicates that the processing entity <strong><strong>SHOULD NOT</strong></strong> submit
any fields beyond those listed in the <code>fields</code> array (if present).
Setting the property to <code>false</code>, or omitting the property, indicates
the processing entity <strong><strong>MAY</strong></strong> submit a response that contains more
than the data described in the <code>fields</code> array.</p>
</li>
<li>
<p>The object <strong><strong>MAY</strong></strong> contain a <code>subject_is_issuer</code> property, and if
present its value <strong><strong>MUST</strong></strong> be one of the following strings:</p>
<ul>
<li><code>required</code> - This indicates that the processing entity <strong><strong>MUST</strong></strong>
submit a response that has been <em>self-attested</em>, i.e., the credential
used in the presentation has been ‘issued’ by the subject of the
credential.</li>
<li><code>preferred</code> - This indicates that it is <strong><strong>RECOMMENDED</strong></strong> that the
processing entity submit a response that has been <em>self-attested</em>,
i.e., the credential used in the presentation has been ‘issued’ by the
subject of the credential.</li>
</ul>
<p>The <code>subject_is_issuer</code> property could be used by a Verifier to require
that certain inputs be <em>self_attested</em>. For example, a college
application <code>presentation definition</code> might contain an <em>Input Descriptor</em>
object for an essay submission. In this case, the Verifier would be able
to require that the essay be provided by the one submits the application.</p>
</li>
<li>
<p>The object <strong><strong>MAY</strong></strong> contain a <code>subject_is_holder</code> property, and if
present its value <strong><strong>MUST</strong></strong> be one of the following strings:</p>
<ul>
<li><code>required</code> - This indicates that the processing entity <strong><strong>MUST</strong></strong>
include proof that the subject of the credential is the same as the
entity submitting the response.</li>
<li><code>preferred</code> - This indicates that it is <strong><strong>RECOMMENDED</strong></strong> that the
processing entity include proof that the subject of the credential is
the same as the entity submitting the response, i.e., the holder.</li>
</ul>
<p>The <code>subject_is_holder</code> property could be used by a Verifier to require
that certain inputs be provided by e subject. For example, an identity
verification <code>presentation definition</code> might contain an <em>Input
Descriptor</em> object for a passport number. In this case, the Verifier
would be able to require that the passport credential was issued to the
one who submits the identity verification.</p>
</li>
<li>
<p>The object <strong><strong>MAY</strong></strong> contain a <code>fields</code> property, and its value
<strong><strong>MUST</strong></strong> be an array of
<a href="#input-descriptor-field-entry"><em>Input Descriptor Field Entry</em></a> objects,
each being composed as follows:</p>
<ul>
<li>
<p>The object <strong><strong>MUST</strong></strong> contain a <code>path</code> property, and its value
<strong><strong>MUST</strong></strong> be an array of one or more
<a href="https://goessner.net/articles/JsonPath/">JSONPath</a> string
expressions, as defined in the
<a href="#jsonpath-syntax-definition">JSONPath Syntax Definition</a> section,
that select some subset of values from the target input. The array
<strong><strong>MUST</strong></strong> be evaluated from 0-index forward, and the first
expressions to return a value will be used for the rest of the
entry’s evaluation. The ability to declare multiple expressions this
way allows the Verifier to account for format differences - for
example: normalizing the differences in structure between
JSON-LD/JWT-based
<a href="https://www.w3.org/TR/vc-data-model/">Verifiable Credentials</a> and
vanilla <a href="https://tools.ietf.org/html/rfc7797">JSON Web Tokens</a> (JWTs).</p>
</li>
<li>
<p>The object <strong><strong>MAY</strong></strong> contain a <code>purpose</code> property, and if present
its value <strong><strong>MUST</strong></strong> be a string that describes the purpose for
which the field is being requested.</p>
</li>
<li>
<p>The object <strong><strong>MAY</strong></strong> contain a <code>filter</code> property, and if present
its value <strong><strong>MUST</strong></strong> be
<a href="https://json-schema.org/specification.html">JSON Schema</a> descriptor
used to filter against the values returned from evaluation of the
<a href="https://goessner.net/articles/JsonPath/">JSONPath</a> string
expressions in the <code>path</code> array.</p>
</li>
<li>
<p>The object <strong><strong>MAY</strong></strong> contain a <code>predicate</code> property. If the
<code>predicate</code> property is present, the <code>filter</code> property <strong><strong>MUST</strong></strong>
also be present. The inclusion of the <code>predicate</code> property
indicates that the processing entity returns a boolean, rather than
a value returned from evaluation of the
<a href="https://goessner.net/articles/JsonPath/">JSONPath</a> string
expressions in the <code>path</code> array. The boolean returned is the result
of using the <code>filter</code> property’s
<a href="https://json-schema.org/specification.html">JSON Schema</a>
descriptors against the evaluated value. The value of <code>predicate</code>
<strong><strong>MUST</strong></strong> be one of the following strings:</p>
<ul>
<li><code>required</code> - This indicates that the returned value <strong><strong>MUST</strong></strong>
be the boolean result of applying the value of the <code>filter</code>
property to the result of evaluating the <code>path</code> property.</li>
<li><code>preferred</code> - This indicates that the returned value
<strong><strong>SHOULD</strong></strong> be the boolean result of applying the value of the
<code>filter</code> property to the result of evaluating the <code>path</code> property.</li>
</ul>
<p>If the <code>predicate</code> property is present, the set of JSON Schema
descriptors which comprise the value of the <code>filter</code> property
<strong><strong>MUST</strong></strong> be restricted according to the desired predicate
operation, as follows:</p>
<ul>
<li>To express the following range proofs, use the JSON Schema
<a href="https://json-schema.org/understanding-json-schema/reference/numeric.html#range">numeric range</a>
properties:
<ul>
<li><code>greater-than</code> - Use the <code>exclusiveMinimum</code> descriptor. For
example, to request a proof that an attribute is greater than
10000:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"number"</span><span class="token punctuation">,</span>
  <span class="token property">"exclusiveMinimum"</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
<li><code>less-than</code> - Use the <code>exclusiveMaximum</code> descriptor. For
example, to request a proof that an attribute is less than 85:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"number"</span><span class="token punctuation">,</span>
  <span class="token property">"exclusiveMaximum"</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
<li><code>greater-than or equal-to</code> - Use the <code>minimum</code> descriptor. For
example, to request a proof that an attribute is greater than or
equal to 18:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"number"</span><span class="token punctuation">,</span>
  <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
<li><code>less-than or equal-to</code> - Use the <code>maximum</code> descriptor. For
example, to request a proof that an attribute is less than or
equal to 65536:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"number"</span><span class="token punctuation">,</span>
  <span class="token property">"maximum"</span><span class="token operator">:</span> <span class="token number">65536</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
<li>to express the following equality proofs, use the JSON Schema
<code>const</code> descriptor:
<ul>
<li><code>equal-to</code> - Use the <code>const</code> descriptor. For example to request
proof that an attribute has the value “Chad”:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"const"</span><span class="token operator">:</span> <span class="token string">"Chad"</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
<li><code>not equal-to</code> - Use the <code>const</code> descriptor with the <code>not</code>
operator. For example, to request proof that an attribute does
not have the value “Karen”:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"not"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"const"</span><span class="token operator">:</span> <span class="token string">"Karen"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
<li>to express set-membership proofs, use the JSON Schema <code>enum</code>
descriptor:
<ul>
<li><code>in-set</code> - Use the <code>enum</code> descriptor. For example, to
request proof that an attribute is contained in the set of
rainbow colors:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
  <span class="token property">"enum"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
<li><code>not-in-set</code> - Use the <code>enum</code> descriptor with the <code>not</code>
operator. For example, to request proof that an attribute is not
contained in the set of primary colors:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"not"</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
    <span class="token property">"enum"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">]</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<p>At this time, additional predicate operations are not supported.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="input-evaluation"><a class="toc-anchor" href="#input-evaluation">§</a> Input Evaluation</h3>
<p>A consumer of a <em>Presentation Definition</em> must filter inputs they hold (signed
credentials, raw data, etc.) to determine whether they possess the inputs
required to fulfill the demands of the Verifying party. A consumer of a
<em>Presentation Definition</em> <strong><strong>SHOULD</strong></strong> use the following process to validate
whether or not its candidate inputs meet the requirements it describes:</p>
<p>For each <em>Input Descriptor</em> in the <code>input_descriptors</code> array of a <em>Presentation
Definition</em>, a User Agent <strong><strong>should</strong></strong> compare each candidate input (JWT,
Verifiable Credential, etc.) it holds to determine whether there is a match.
Evaluate each candidate input as follows:</p>
<ol>
<li>The schema of the candidate input <strong><strong>must</strong></strong> match one of the <em>Input
Descriptor</em> <code>schema</code> object <code>uri</code> values exactly. If the scheme is a
hashlink or a similar value that points to immutable content, this means the
content of the schema, not just the URI from which it is downloaded, must
also match. If one of the values is an exact match, proceed, if there are no
exact matches, skip to the next candidate input.</li>
<li>If the <code>constraints</code> property of the <em>Input Descriptor</em> is present, and it
contains a <code>fields</code> property with one or more
<a href="#input-descriptor-field-entry"><em>Input Descriptor Field Entries</em></a>, evaluate
each against the candidate input as follows:
<ol>
<li>Iterate the <em>Input Descriptor</em> <code>path</code> array of
<a href="https://goessner.net/articles/JsonPath/">JSONPath</a> string expressions
from 0-index, executing each expression against the candidate input.
Cease iteration at the first expression that returns a matching <em>Field
Query Result</em> and use the result for the rest of the field’s evaluation.
If no result is returned for any of the expressions, skip to the next
candidate input.</li>
<li>If the <code>filter</code> property of the field entry is present, validate the
<em>Field Query Result</em> from the step above against the
<a href="https://json-schema.org/specification.html">JSON Schema</a> descriptor value.</li>
<li>If the <code>predicate</code> property of the field entry is present, derive a
<em>Field Query Predicate</em> boolean value using the value of the <em>Field
Query Result</em> obtained above, according to the <code>operation</code> and <code>p_value</code>
or <code>p_set</code> provided in the <code>predicate</code> object.</li>
<li>If the result is valid, proceed iterating the rest of the <code>fields</code> entries.</li>
</ol>
</li>
<li>If all of the previous validation steps are successful, mark the candidate
input as a match for use in a <em>Presentation Submission</em>, and if present at
the top level of the <em>Input Descriptor</em>, keep a relative reference to the
<code>group</code> values the input is designated for.</li>
<li>If the <code>constraints</code> property of the <em>Input Descriptor</em> is present and it
contains a <code>limit_disclosure</code> property set to the boolean value <code>true</code>,
ensure that any subsequent submission of data in relation to the candidate
input is limited to the entries specified in the <code>fields</code> property. If the
<code>fields</code> property <strong><strong>is not</strong></strong> present, or contains zero
<a href="#input-descriptor-field-entry"><em>Input Descriptor Field Entries</em></a>,
submission <strong><strong>SHOULD NOT</strong></strong> include any claim data from the credential.
(for example: a Verifier may simply want to know a Holder has a valid,
signed credential of a particular type, without disclosing any of the
data it contains).</li>
<li>If the <code>constraints</code> property of the <em>Input Descriptor</em> is present, and it
contains a <code>subject_is_issuer</code> property set to the value <code>required</code>, ensure
that any submission of data in relation to the candidate input is fulfilled
using a <em>self_attested</em> credential.</li>
<li>If the <code>constraints</code> property of the <em>Input Descriptor</em> is present, and it
contains a <code>subject_is_holder</code> property set to the value <code>required</code>, ensure
that any submission of data in relation to the candidate input is fulfilled
by the subject of the credential</li>
</ol>
<div id="note-1" class="notice note"><a class="notice-link" href="#note-1">NOTE</a><p>The above evaluation process assumes the User Agent will test each candidate
input (JWT, Verifiable Credential, etc.) it holds to determine if it meets the
criteria for inclusion in submission. Any additional testing of a candidate
input for a schema match beyond comparison of the schema <code>uri</code> (e.g. specific
requirements or details expressed in schema <code>metadata</code>) is at the discretion
of the implementer.</p>
</div>
</div>
<h4 id="expired-and-revoked-data"><a class="toc-anchor" href="#expired-and-revoked-data">§</a> Expired and Revoked Data</h4>
<p>Certain types of credentials have concepts of <em>expiration</em> and <em>revocation</em>.
<em>Expiration</em> is mechanism normally used to communicate a time bound up until
which a credential is valid. <em>Revocation</em> is a mechanism normally used to give
an issuer control over the status of a credential after issuance. Different
credential specifications handle these concepts in different ways.</p>
<p><code>Presentation Definitions</code> have a need to specify whether expired, revoked,
or credentials of other statuses can be accepted. For credentials that have
simple status properties <a href="#input-descriptor-objects">Input Descriptor Filters</a>
JSON Schema can be used to write specify acceptable criteria.</p>
<p>The first example demonstrates <em>expiry</em> using the <a href="https://w3c.github.io/vc-data-model/#expiration-0">VC Data Model’s
<code>expirationDate</code> property</a>.
The second demonstrates <em>revocation</em>, or more generally, <em>credential status</em>
using the <a href="https://w3c.github.io/vc-data-model/#status-0">VC Data Model’s <code>credentialStatus</code> property</a>.
Using the syntax provided in the example a verifier will have all requisite
information to resolve the status of a credential.</p>
<tab-panels selected-index="0">
<nav>
  <button type="button">Verifiable Credential Expiration</button>
  <button type="button">Verifiable Credential Revocation Status</button>
</nav>
<section>
<div id="drivers-license-expiry" class="notice example"><a class="notice-link" href="#drivers-license-expiry">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"drivers_license_information"</span><span class="token punctuation">,</span>
  <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://yourwatchful.gov/drivers-license-schema.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Verify Valid License"</span><span class="token punctuation">,</span>
    <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to know you have a license valid through December."</span><span class="token punctuation">,</span>
    <span class="token property">"metadata"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"client_id"</span><span class="token operator">:</span> <span class="token string">"4fb540be-3a7f-0b47-bb37-3821bd766ed4"</span><span class="token punctuation">,</span>
      <span class="token property">"redirect_uri"</span><span class="token operator">:</span> <span class="token string">"https://yourwatchful.gov/verify"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.expirationDate"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
          <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"date-time"</span><span class="token punctuation">,</span>
          <span class="token property">"min"</span><span class="token operator">:</span> <span class="token string">"2020-12-31T23:59:59.000Z"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
</section>
<section>
<div id="drivers-license-revocation" class="notice example"><a class="notice-link" href="#drivers-license-revocation">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"drivers_license_information"</span><span class="token punctuation">,</span>
  <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://yourwatchful.gov/drivers-license-schema.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Verify Valid License"</span><span class="token punctuation">,</span>
    <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token string">"We need to know that your license has not been revoked."</span><span class="token punctuation">,</span>
    <span class="token property">"metadata"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"client_id"</span><span class="token operator">:</span> <span class="token string">"4fb540be-3a7f-0b47-bb37-3821bd766ed4"</span><span class="token punctuation">,</span>
      <span class="token property">"redirect_uri"</span><span class="token operator">:</span> <span class="token string">"https://yourwatchful.gov/verify"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"$.credentialStatus"</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
</section>
</tab-panel>
<h3 id="json-schema-2"><a class="toc-anchor" href="#json-schema-2">§</a> JSON Schema</h3>
<p>The following JSON Schema Draft 7 definition summarizes the
format-related rules above:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"$schema"</span><span class="token operator">:</span> <span class="token string">"http://json-schema.org/draft-07/schema#"</span><span class="token punctuation">,</span>
  <span class="token property">"definitions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"pattern"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"number"</span><span class="token punctuation">,</span> <span class="token string">"string"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"minLength"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"maxLength"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"exclusiveMinimum"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"number"</span><span class="token punctuation">,</span> <span class="token string">"string"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"exclusiveMaximum"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"number"</span><span class="token punctuation">,</span> <span class="token string">"string"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"maximum"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"number"</span><span class="token punctuation">,</span> <span class="token string">"string"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"const"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"number"</span><span class="token punctuation">,</span> <span class="token string">"string"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"enum"</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
          <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"number"</span><span class="token punctuation">,</span> <span class="token string">"string"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"not"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
          <span class="token property">"minProperties"</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"format"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"patternProperties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"^jwt$|^jwt_vc$|^jwt_vp$"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"alg"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
              <span class="token property">"minItems"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"alg"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"^ldp_vc$|^ldp_vp$|^ldp$"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"proof_type"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
              <span class="token property">"minItems"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"proof_type"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>  
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"oneOf"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"count"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"min"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"max"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"from"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"rule"</span><span class="token punctuation">,</span> <span class="token string">"from"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"rule"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"count"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"min"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"max"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span><span class="token punctuation">,</span> <span class="token property">"minimum"</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"from_nested"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
              <span class="token property">"minItems"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/submission_requirements"</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"rule"</span><span class="token punctuation">,</span> <span class="token string">"from_nested"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"input_descriptors"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
          <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"schema"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
              <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"metadata"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"uri"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"constraints"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"limit_disclosure"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"boolean"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
              <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/field"</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"subject_is_issuer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
              <span class="token property">"enum"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"required"</span><span class="token punctuation">,</span> <span class="token string">"preferred"</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"subject_is_holder"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
              <span class="token property">"enum"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"required"</span><span class="token punctuation">,</span> <span class="token string">"preferred"</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"schema"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"field"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"oneOf"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
              <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/filter"</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"path"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
              <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/filter"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"predicate"</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
              <span class="token property">"enum"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"required"</span><span class="token punctuation">,</span> <span class="token string">"preferred"</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"path"</span><span class="token punctuation">,</span> <span class="token string">"filter"</span><span class="token punctuation">,</span> <span class="token string">"predicate"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
  <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"presentation_definition"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"purpose"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"locale"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/format"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"submission_requirements"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
          <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/submission_requirements"</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"input_descriptors"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
          <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/input_descriptors"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"input_descriptors"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="presentation-requests"><a class="toc-anchor" href="#presentation-requests">§</a> Presentation Requests</h3>
<p>Presentation Definitions may be sent from a Verifier to a Holder using a wide
variety of transport mechanisms or credentials exchange protocols. This
specification does not define a transport mechanism for <code>Presentation Definitions</code> (or <code>Presentation Request</code>), but does note that different use
cases, supported signature schemes, protocols, and threat models may require a
<code>Presentation Request</code> to have certain properties:</p>
<ul>
<li>Signature verification - A Holder may wish to have assurances as to the
provenance, identity, or status of a <code>Presentation Definition</code>. In this case,
a <code>Presentation Request</code> that uses digital signatures may be required.</li>
<li><code>domain</code>, <code>challenge</code>, or <code>nonce</code> - Some presentation protocols may require
that presentations be unique, i.e., it should be possible for a Verifier to
detect if a presentation has been used before. Other protocols may require
that a presentation to be bound to a particular communication exchange, or
session. In these cases, a <code>Presentation Request</code> that provides a <code>domain</code>,
<code>challenge</code>,or <code>nonce</code> property may be required.</li>
</ul>
<h2 id="presentation-submission"><a class="toc-anchor" href="#presentation-submission">§</a> Presentation Submission</h2>
<p><em>Presentation Submissions</em> are objects embedded within target credential
negotiation formats that unify the presentation of proofs to a Verifier in
accordance with the requirements a Verifier specified in a <em>Presentation
Definition</em>. Embedded <em>Presentation Submission</em> objects <strong><strong>MUST</strong></strong> be located
within target data format as a <code>presentation_submission</code> property, which are
composed and embedded as follows:</p>
<ol>
<li>The <code>presentation_submission</code> object <strong><strong>MUST</strong></strong> be included at the top-level
of an Embed Target, or in the specific location described in the
<a href="#embed-locations">Embed Locations table</a> in the <a href="#embed-target">Embed Target</a> section below.</li>
<li>The object <strong><strong>MUST</strong></strong> include a <code>descriptor_map</code> property, and its value
<strong><strong>MUST</strong></strong> be an array of <em>Input Descriptor Mapping Objects</em>, each being
composed as follows:
<ul>
<li>The object <strong><strong>MUST</strong></strong> include an <code>id</code> property, and its value
<strong><strong>MUST</strong></strong> be a string matching the <code>id</code> property of the <em>Input
Descriptor</em> in the <em>Presentation Definition</em> the submission is related to.</li>
<li>The object <strong><strong>MUST</strong></strong> include a <code>path</code> property, and its value
<strong><strong>MUST</strong></strong> be a <a href="https://goessner.net/articles/JsonPath/">JSONPath</a>
string expression that selects the credential to be submit in relation
to the identified <em>Input Descriptor</em> identified, when executed against
the top-level of the object the <em>Presentation Submission</em> is embedded
within.</li>
<li>The object <strong><strong>MUST</strong></strong> include a <code>format</code> property, and its value
<strong><strong>MUST</strong></strong> be a string value matching one of the
<a href="#credential-format-designations">Credential Format Designation</a> (<code>jwt</code>,
<code>jwt_vc</code>, <code>jwt_vp</code>), to denote what data format the credential is being
submitted in.</li>
</ul>
</li>
</ol>
<p>If for all credentials submitted in relation to
<a href="#input-descriptor-objects"><em>Input Descriptor Objects</em></a> that include a
<code>constraints</code> object with a <code>limit_disclosure</code> property set to the boolean value
<code>true</code>, ensure that the data submitted is limited to the entries specified in
the <code>fields</code> property of the <code>constraints</code> object. If the <code>fields</code> property
<strong><strong>is not</strong></strong> present, or contains zero
<a href="#input-descriptor-field-entry"><em>Input Descriptor Field Entries</em></a>, the
submission <strong><strong>SHOULD NOT</strong></strong> include any claim data from the credential. (for
example: a Verifier may simply want to know a Holder has a valid, signed
credential of a particular type, without disclosing any of the data it contains).</p>
<h3 id="validation-of-credentials"><a class="toc-anchor" href="#validation-of-credentials">§</a> Validation of Credentials</h3>
<p>Once a credential has been ingested via a Presentation Submission, any validation
beyond the process of evaluation defined by the <a href="#input-evaluation">Input Evaluation</a>
section is outside the scope of Presentation Exchange. Validation of signatures
and other cryptographic proofs are a function of a given credential format, and
should be evaluated in accordance with a given credential format’s standardized
processing steps. Additional verification of credential data or subsequent
validation required by a given Verifier are left to the Verifier’s systems, code
and business processes to define and execute.</p>
<p>During validation, each Input Descriptor Object <strong><strong>MUST</strong></strong> refer to only a
single discrete container within a <em>Presentation Submission</em>, such that all
checks refer to properties within the same container and are protected by the
same digital signature, if the container format supports digital signatures.
Examples of discrete container formats include a single Verifiable Credential
within a Verifiable Presentation as defined in
<a href="https://www.w3.org/TR/vc-data-model/">W3C Verifiable Credentials</a>, OpenID
Connect Tokens, and JSON Web Tokens. This is to ensure that related
requirements, for example, “given name” and “family name” within the same
<em>Input Descriptor Object</em> also come from the same container.</p>
<h3 id="embed-targets"><a class="toc-anchor" href="#embed-targets">§</a> Embed Targets</h3>
<p>The following section details where the <em>Presentation Submission</em> is to be
embedded within a target data structure, as well as how to formulate the
<a href="https://goessner.net/articles/JsonPath/">JSONPath</a> expressions to select the
credentials within the target data structure.</p>
<h4 id="embed-locations"><a class="toc-anchor" href="#embed-locations">§</a> Embed Locations</h4>
<p>The following are the locations at which the <code>presentation_submission</code> object
<strong><strong>MUST</strong></strong> be embedded for known target formats. For any location besides
the top level of the embed target, the location is described in JSONPath syntax.</p>
<table>
<thead>
<tr>
<th>Target</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenID</td>
<td>top-level</td>
</tr>
<tr>
<td>DIDComms</td>
<td><code>$.presentations~attach.data.json</code></td>
</tr>
<tr>
<td>VP</td>
<td>top-level</td>
</tr>
<tr>
<td>CHAPI</td>
<td><code>$.data</code></td>
</tr>
</tbody>
</table>
<tab-panels selected-index="0">
<nav>
  <button type="button">Verifiable Presentation</button>
  <button type="button">Open ID Connect</button>
  <button type="button">CHAPI</button>
  <button type="button">DIDComm</button>
</nav>
<section>
<div id="presentation-submission---verifiable-presentation" class="notice example"><a class="notice-link" href="#presentation-submission---verifiable-presentation">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"@context"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"https://www.w3.org/2018/credentials/v1"</span><span class="token punctuation">,</span>
    <span class="token string">"https://identity.foundation/presentation-exchange/submission/v1"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"VerifiablePresentation"</span><span class="token punctuation">,</span>
    <span class="token string">"PresentationSubmission"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"presentation_submission"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"descriptor_map"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"banking_input_2"</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"jwt_vc"</span><span class="token punctuation">,</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"$.verifiableCredential.[0]"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"employment_input"</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"ldp_vc"</span><span class="token punctuation">,</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"$.verifiableCredential.[1]"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"citizenship_input_1"</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"ldp_vc"</span><span class="token punctuation">,</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"$.verifiableCredential.[2]"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"verifiableCredential"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token comment">// DECODED JWT PAYLOAD, ASSUME THIS WILL BE A BIG UGLY OBJECT</span>
      <span class="token property">"vc"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"@context"</span><span class="token operator">:</span> <span class="token string">"https://www.w3.org/2018/credentials/v1"</span><span class="token punctuation">,</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"https://eu.com/claims/DriversLicense"</span><span class="token punctuation">,</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"EUDriversLicense"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"issuer"</span><span class="token operator">:</span> <span class="token string">"did:example:123"</span><span class="token punctuation">,</span>
        <span class="token property">"issuanceDate"</span><span class="token operator">:</span> <span class="token string">"2010-01-01T19:73:24Z"</span><span class="token punctuation">,</span>
        <span class="token property">"credentialSubject"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"did:example:ebfeb1f712ebc6f1c276e12ec21"</span><span class="token punctuation">,</span>
          <span class="token property">"accounts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"1234567890"</span><span class="token punctuation">,</span>
              <span class="token property">"route"</span><span class="token operator">:</span> <span class="token string">"DE-9876543210"</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"2457913570"</span><span class="token punctuation">,</span>
              <span class="token property">"route"</span><span class="token operator">:</span> <span class="token string">"DE-0753197542"</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"@context"</span><span class="token operator">:</span> <span class="token string">"https://www.w3.org/2018/credentials/v1"</span><span class="token punctuation">,</span>
      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"https://business-standards.org/schemas/employment-history.json"</span><span class="token punctuation">,</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"VerifiableCredential"</span><span class="token punctuation">,</span> <span class="token string">"GenericEmploymentCredential"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"issuer"</span><span class="token operator">:</span> <span class="token string">"did:foo:123"</span><span class="token punctuation">,</span>
      <span class="token property">"issuanceDate"</span><span class="token operator">:</span> <span class="token string">"2010-01-01T19:73:24Z"</span><span class="token punctuation">,</span>
      <span class="token property">"credentialSubject"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"did:example:ebfeb1f712ebc6f1c276e12ec21"</span><span class="token punctuation">,</span>
        <span class="token property">"active"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"proof"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"EcdsaSecp256k1VerificationKey2019"</span><span class="token punctuation">,</span>
        <span class="token property">"created"</span><span class="token operator">:</span> <span class="token string">"2017-06-18T21:19:10Z"</span><span class="token punctuation">,</span>
        <span class="token property">"proofPurpose"</span><span class="token operator">:</span> <span class="token string">"assertionMethod"</span><span class="token punctuation">,</span>
        <span class="token property">"verificationMethod"</span><span class="token operator">:</span> <span class="token string">"https://example.edu/issuers/keys/1"</span><span class="token punctuation">,</span>
        <span class="token property">"jws"</span><span class="token operator">:</span> <span class="token string">"..."</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"@context"</span><span class="token operator">:</span> <span class="token string">"https://www.w3.org/2018/credentials/v1"</span><span class="token punctuation">,</span>
      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"https://eu.com/claims/DriversLicense"</span><span class="token punctuation">,</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"EUDriversLicense"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"issuer"</span><span class="token operator">:</span> <span class="token string">"did:foo:123"</span><span class="token punctuation">,</span>
      <span class="token property">"issuanceDate"</span><span class="token operator">:</span> <span class="token string">"2010-01-01T19:73:24Z"</span><span class="token punctuation">,</span>
      <span class="token property">"credentialSubject"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"did:example:ebfeb1f712ebc6f1c276e12ec21"</span><span class="token punctuation">,</span>
        <span class="token property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"number"</span><span class="token operator">:</span> <span class="token string">"34DGE352"</span><span class="token punctuation">,</span>
          <span class="token property">"dob"</span><span class="token operator">:</span> <span class="token string">"07/13/80"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"proof"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"RsaSignature2018"</span><span class="token punctuation">,</span>
        <span class="token property">"created"</span><span class="token operator">:</span> <span class="token string">"2017-06-18T21:19:10Z"</span><span class="token punctuation">,</span>
        <span class="token property">"proofPurpose"</span><span class="token operator">:</span> <span class="token string">"assertionMethod"</span><span class="token punctuation">,</span>
        <span class="token property">"verificationMethod"</span><span class="token operator">:</span> <span class="token string">"https://example.edu/issuers/keys/1"</span><span class="token punctuation">,</span>
        <span class="token property">"jws"</span><span class="token operator">:</span> <span class="token string">"..."</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"proof"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"RsaSignature2018"</span><span class="token punctuation">,</span>
    <span class="token property">"created"</span><span class="token operator">:</span> <span class="token string">"2018-09-14T21:19:10Z"</span><span class="token punctuation">,</span>
    <span class="token property">"proofPurpose"</span><span class="token operator">:</span> <span class="token string">"authentication"</span><span class="token punctuation">,</span>
    <span class="token property">"verificationMethod"</span><span class="token operator">:</span> <span class="token string">"did:example:ebfeb1f712ebc6f1c276e12ec21#keys-1"</span><span class="token punctuation">,</span>
    <span class="token property">"challenge"</span><span class="token operator">:</span> <span class="token string">"1f44d55f-f161-4938-a659-f8026467f126"</span><span class="token punctuation">,</span>
    <span class="token property">"domain"</span><span class="token operator">:</span> <span class="token string">"4jt78h47fh47"</span><span class="token punctuation">,</span>
    <span class="token property">"jws"</span><span class="token operator">:</span> <span class="token string">"..."</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
</section>
<section>
<div id="presentation-submission-with-oidc-jwt" class="notice example"><a class="notice-link" href="#presentation-submission-with-oidc-jwt">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"iss"</span><span class="token operator">:</span> <span class="token string">"https://self-issued.me"</span><span class="token punctuation">,</span>
  <span class="token property">"sub"</span><span class="token operator">:</span> <span class="token string">"248289761001"</span><span class="token punctuation">,</span>
  <span class="token property">"preferred_username"</span><span class="token operator">:</span> <span class="token string">"superman445"</span><span class="token punctuation">,</span>
  <span class="token property">"presentation_submission"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"descriptor_map"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"banking_input_2"</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"jwt"</span><span class="token punctuation">,</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"$._claim_sources.banking_input_2.JWT"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"employment_input"</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"jwt_vc"</span><span class="token punctuation">,</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"$._claim_sources.employment_input.VC_JWT"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"citizenship_input_1"</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"ldp_vc"</span><span class="token punctuation">,</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"$._claim_sources.citizenship_input_1.VC"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"_claim_names"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"verified_claims"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"banking_input_2"</span><span class="token punctuation">,</span>
      <span class="token string">"employment_input"</span><span class="token punctuation">,</span>
      <span class="token string">"citizenship_input_1"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"_claim_sources"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"banking_input_2"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"JWT"</span><span class="token operator">:</span> "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwcz
      ovL3NlcnZlci5vdGhlcm9wLmNvbSIsInN1YiI6ImU4MTQ4NjAzLTg5MzQtNDI0N
      S04MjViLWMxMDhiOGI2Yjk0NSIsInZlcmlmaWVkX2NsYWltcyI6eyJ2ZXJpZmlj
      YXRpb24iOnsidHJ1c3RfZnJhbWV3b3JrIjoiaWFsX2V4YW1wbGVfZ29sZCJ9LCJ
      jbGFpbXMiOnsiZ2l2ZW5fbmFtZSI6Ik1heCIsImZhbWlseV9uYW1lIjoiTWVpZX
      IiLCJiaXJ0aGRhdGUiOiIxOTU2LTAxLTI4In19fQ.FArlPUtUVn95HCExePlWJQ
      6ctVfVpQyeSbe3xkH9MH1QJjnk5GVbBW0qe1b7R3lE-8iVv__0mhRTUI5lcFhLj
      oGjDS8zgWSarVsEEjwBK7WD3r9cEw6ZAhfEkhHL9eqAaED2rhhDbHD5dZWXkJCu
      XIcn65g6rryiBanxlXK0ZmcK4fD9HV9MFduk0LRG_p4yocMaFvVkqawat5NV9QQ
      3ij7UBr3G7A4FojcKEkoJKScdGoozir8m5XD83Sn45_79nCcgWSnCX2QTukL8Ny
      wIItu_K48cjHiAGXXSzydDm_ccGCe0sY-Ai2-iFFuQo2PtfuK2SqPPmAZJxEFrF
      oLY4g"
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"employment_input"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"VC"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"@context"</span><span class="token operator">:</span> <span class="token string">"https://www.w3.org/2018/credentials/v1"</span><span class="token punctuation">,</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"https://business-standards.org/schemas/employment-history.json"</span><span class="token punctuation">,</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"VerifiableCredential"</span><span class="token punctuation">,</span> <span class="token string">"GenericEmploymentCredential"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"issuer"</span><span class="token operator">:</span> <span class="token string">"did:foo:123"</span><span class="token punctuation">,</span>
        <span class="token property">"issuanceDate"</span><span class="token operator">:</span> <span class="token string">"2010-01-01T19:73:24Z"</span><span class="token punctuation">,</span>
        <span class="token property">"credentialSubject"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"did:example:ebfeb1f712ebc6f1c276e12ec21"</span><span class="token punctuation">,</span>
          <span class="token property">"active"</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"proof"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"EcdsaSecp256k1VerificationKey2019"</span><span class="token punctuation">,</span>
          <span class="token property">"created"</span><span class="token operator">:</span> <span class="token string">"2017-06-18T21:19:10Z"</span><span class="token punctuation">,</span>
          <span class="token property">"proofPurpose"</span><span class="token operator">:</span> <span class="token string">"assertionMethod"</span><span class="token punctuation">,</span>
          <span class="token property">"verificationMethod"</span><span class="token operator">:</span> <span class="token string">"https://example.edu/issuers/keys/1"</span><span class="token punctuation">,</span>
          <span class="token property">"jws"</span><span class="token operator">:</span> <span class="token string">"..."</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"citizenship_input_1"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"VC"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"@context"</span><span class="token operator">:</span> <span class="token string">"https://www.w3.org/2018/credentials/v1"</span><span class="token punctuation">,</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"https://eu.com/claims/DriversLicense"</span><span class="token punctuation">,</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"EUDriversLicense"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"issuer"</span><span class="token operator">:</span> <span class="token string">"did:foo:123"</span><span class="token punctuation">,</span>
        <span class="token property">"issuanceDate"</span><span class="token operator">:</span> <span class="token string">"2010-01-01T19:73:24Z"</span><span class="token punctuation">,</span>
        <span class="token property">"credentialSubject"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"did:example:ebfeb1f712ebc6f1c276e12ec21"</span><span class="token punctuation">,</span>
          <span class="token property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"number"</span><span class="token operator">:</span> <span class="token string">"34DGE352"</span><span class="token punctuation">,</span>
            <span class="token property">"dob"</span><span class="token operator">:</span> <span class="token string">"07/13/80"</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"proof"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"EcdsaSecp256k1VerificationKey2019"</span><span class="token punctuation">,</span>
          <span class="token property">"created"</span><span class="token operator">:</span> <span class="token string">"2017-06-18T21:19:10Z"</span><span class="token punctuation">,</span>
          <span class="token property">"proofPurpose"</span><span class="token operator">:</span> <span class="token string">"assertionMethod"</span><span class="token punctuation">,</span>
          <span class="token property">"verificationMethod"</span><span class="token operator">:</span> <span class="token string">"https://example.edu/issuers/keys/1"</span><span class="token punctuation">,</span>
          <span class="token property">"jws"</span><span class="token operator">:</span> <span class="token string">"..."</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
</section>
<section>
<div id="presentation-submission-using-chapi" class="notice example"><a class="notice-link" href="#presentation-submission-using-chapi">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"web"</span><span class="token punctuation">,</span>
  <span class="token property">"dataType"</span><span class="token operator">:</span> <span class="token string">"VerifiablePresentation"</span><span class="token punctuation">,</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Presentation Submission goes here</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</section>
<section>
<div id="presentation-submission-using-didcomm" class="notice example"><a class="notice-link" href="#presentation-submission-using-didcomm">EXAMPLE</a><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"@type"</span><span class="token operator">:</span> <span class="token string">"https://didcomm.org/present-proof/%VER/presentation"</span><span class="token punctuation">,</span>
    <span class="token property">"@id"</span><span class="token operator">:</span> <span class="token string">"f1ca8245-ab2d-4d9c-8d7d-94bf310314ef"</span><span class="token punctuation">,</span>
    <span class="token property">"comment"</span><span class="token operator">:</span> <span class="token string">"some comment"</span><span class="token punctuation">,</span>
    <span class="token property">"formats"</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token property">"attach_id"</span> <span class="token operator">:</span> <span class="token string">"2a3f1c4c-623c-44e6-b159-179048c51260"</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span> <span class="token operator">:</span> <span class="token string">"dif/presentation-exchange/submission@v1.0"</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"presentations~attach"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token property">"@id"</span><span class="token operator">:</span> <span class="token string">"2a3f1c4c-623c-44e6-b159-179048c51260"</span><span class="token punctuation">,</span>
        <span class="token property">"mime-type"</span><span class="token operator">:</span> <span class="token string">"application/ld+json"</span><span class="token punctuation">,</span>
        <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"json"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// Presentation Submission goes here</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
</div>
</section>
<h3 id="json-schema-3"><a class="toc-anchor" href="#json-schema-3">§</a> JSON Schema</h3>
<p>The following JSON Schema Draft 7 definition summarizes the rules above:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"$schema"</span><span class="token operator">:</span> <span class="token string">"http://json-schema.org/draft-07/schema#"</span><span class="token punctuation">,</span>
  <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Presentation Submission"</span><span class="token punctuation">,</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
  <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"presentation_submission"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"locale"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"descriptor_map"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"array"</span><span class="token punctuation">,</span>
          <span class="token property">"items"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"$ref"</span><span class="token operator">:</span> <span class="token string">"#/definitions/descriptor"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"descriptor_map"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"definitions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"descriptor"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"object"</span><span class="token punctuation">,</span>
      <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"format"</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
          <span class="token property">"enum"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"jwt"</span><span class="token punctuation">,</span> <span class="token string">"jwt_vc"</span><span class="token punctuation">,</span> <span class="token string">"jwt_vp"</span><span class="token punctuation">,</span> <span class="token string">"ldp"</span><span class="token punctuation">,</span> <span class="token string">"ldp_vc"</span><span class="token punctuation">,</span> <span class="token string">"ldp_vp"</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"path"</span><span class="token punctuation">,</span> <span class="token string">"format"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"required"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"presentation_submission"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"additionalProperties"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre>
</tab-panels>
<h2 id="credential-format-designations"><a class="toc-anchor" href="#credential-format-designations">§</a> Credential Format Designations</h2>
<p>Within the <em>Presentation Exchange</em> specification, there are numerous sections
where Verifiers and Holders convey what credential variants they support and
are submitting. The following are the normalized references used within the
specification:</p>
<ul>
<li><code>jwt</code> - the format is a <a href="https://tools.ietf.org/html/rfc7797">JSON Web Token</a>
that will be submitted in the form of a JWT encoded string. Expression of
supported algorithms in relation to this format <strong><strong>MUST</strong></strong> be conveyed using an <code>alg</code> property
paired with values that are identifiers from the
<a href="https://tools.ietf.org/html/rfc7518">RFC 7518 JSON Web Algorithms</a> registry.</li>
<li><code>jwt_vc</code>, <code>jwt_vp</code> - these formats are <a href="https://tools.ietf.org/html/rfc7797">JSON Web Tokens</a>
that will be submitted in the form of a JWT encoded string, and the body of the decoded
JWT string is defined in the <a href="https://www.w3.org/TR/vc-data-model/#json-web-token">JSON Web Token section</a>
of the W3C Verifiable Credentials specification. Expression of supported algorithms in
relation to these formats <strong><strong>MUST</strong></strong> be conveyed using an <code>alg</code> property paired with values that
are identifiers from the <a href="https://tools.ietf.org/html/rfc7518">RFC 7518 JSON Web Algorithms</a> registry.</li>
<li><code>ldp_vc</code>, <code>ldp_vp</code> - these formats are <a href="https://www.w3.org/TR/vc-data-model/">Verifiable Credentials</a>
that will be submitted in the form of a JSON object. Expression of supported
algorithms in relation to these formats <strong><strong>MUST</strong></strong> be conveyed using a <code>proof_type</code> property
paired with values that are identifiers from the
<a href="https://w3c-ccg.github.io/ld-cryptosuite-registry/">Linked Data Cryptographic Suite Registry</a>.</li>
<li><code>ldp</code> - this format is defined in the <a href="https://w3c-ccg.github.io/ld-proofs/">W3C CCG Linked Data Proofs</a>
specification, and will be submitted as objects. Expression of supported algorithms
in relation to these formats <strong><strong>MUST</strong></strong> be conveyed using a <code>proof_type</code> property
with values that are identifiers from the
<a href="https://w3c-ccg.github.io/ld-cryptosuite-registry/">Linked Data Cryptographic Suite Registry</a>.</li>
</ul>
<h2 id="json-schema-vocabulary-definition"><a class="toc-anchor" href="#json-schema-vocabulary-definition">§</a> JSON Schema Vocabulary Definition</h2>
<p>The <em>Presentation Exchange</em> specification adopts and defines the following JSON
Schema data format and processing variant, which implementers <strong><strong>MUST</strong></strong>
support for evaluation of the portions of the <em>Presentation Exchange</em>
specification that call for JSON Schema validation:
<a href="https://tools.ietf.org/html/draft-handrews-json-schema-02">https://tools.ietf.org/html/draft-handrews-json-schema-02</a></p>
<h2 id="jsonpath-syntax-definition"><a class="toc-anchor" href="#jsonpath-syntax-definition">§</a> JSONPath Syntax Definition</h2>
<p>The <em>Presentation Exchange</em> specification adopts and defines the following
syntax from the JSONPath object query language, which implementers <strong><strong>MUST</strong></strong>
support for evaluation of the portions of the <em>Presentation Exchange</em>
specification that call for JSONPath expression execution.</p>
<table>
<thead>
<tr>
<th>JSONPath</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code> $</code></td>
<td>The root object/element</td>
</tr>
<tr>
<td><code> @</code></td>
<td>The current object/element</td>
</tr>
<tr>
<td><code>.</code></td>
<td>Child member operator</td>
</tr>
<tr>
<td><code>..</code></td>
<td>Recursive descendant operator; JSONPath borrows this syntax from E4X</td>
</tr>
<tr>
<td><code>*</code></td>
<td>Wildcard matching all objects/elements regardless their names</td>
</tr>
<tr>
<td><code>[]</code></td>
<td>Subscript operator</td>
</tr>
<tr>
<td><code>[,]</code></td>
<td>Union operator for alternate names or array indices as a set</td>
</tr>
<tr>
<td><code>[start:end:step]</code></td>
<td>Array slice operator borrowed from ES4 / Python</td>
</tr>
<tr>
<td><code>?()</code></td>
<td>Applies a filter (script) expression via static evaluation</td>
</tr>
<tr>
<td><code>()</code></td>
<td>Script expression via static evaluation</td>
</tr>
</tbody>
</table>
<p><strong>Example JSON Object</strong></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  <span class="token string">"store"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"book"</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
      <span class="token punctuation">{</span>
        <span class="token string">"category"</span><span class="token operator">:</span> <span class="token string">"reference"</span><span class="token punctuation">,</span>
        <span class="token string">"author"</span><span class="token operator">:</span> <span class="token string">"Nigel Rees"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"Sayings of the Century"</span><span class="token punctuation">,</span>
        <span class="token string">"price"</span><span class="token operator">:</span> <span class="token number">8.95</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token string">"category"</span><span class="token operator">:</span> <span class="token string">"fiction"</span><span class="token punctuation">,</span>
        <span class="token string">"author"</span><span class="token operator">:</span> <span class="token string">"Evelyn Waugh"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"Sword of Honour"</span><span class="token punctuation">,</span>
        <span class="token string">"price"</span><span class="token operator">:</span> <span class="token number">12.99</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token string">"category"</span><span class="token operator">:</span> <span class="token string">"fiction"</span><span class="token punctuation">,</span>
        <span class="token string">"author"</span><span class="token operator">:</span> <span class="token string">"Herman Melville"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"Moby Dick"</span><span class="token punctuation">,</span>
        <span class="token string">"isbn"</span><span class="token operator">:</span> <span class="token string">"0-553-21311-3"</span><span class="token punctuation">,</span>
        <span class="token string">"price"</span><span class="token operator">:</span> <span class="token number">8.99</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
         <span class="token string">"category"</span><span class="token operator">:</span> <span class="token string">"fiction"</span><span class="token punctuation">,</span>
        <span class="token string">"author"</span><span class="token operator">:</span> <span class="token string">"J. R. R. Tolkien"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"The Lord of the Rings"</span><span class="token punctuation">,</span>
        <span class="token string">"isbn"</span><span class="token operator">:</span> <span class="token string">"0-395-19395-8"</span><span class="token punctuation">,</span>
        <span class="token string">"price"</span><span class="token operator">:</span> <span class="token number">22.99</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"bicycle"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span>
      <span class="token string">"price"</span><span class="token operator">:</span> <span class="token number">19.95</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Example JSONPath Expressions</strong></p>
<table>
<thead>
<tr>
<th>JSONPath</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$.store.book[*].author</code></td>
<td>The authors of all books in the store</td>
</tr>
<tr>
<td><code>$..author</code></td>
<td>All authors</td>
</tr>
<tr>
<td><code>$.store.*</code></td>
<td>All things in store, which are some books and a red bicycle</td>
</tr>
<tr>
<td><code>$.store..price</code></td>
<td>The price of everything in the store</td>
</tr>
<tr>
<td><code>$..book[2]</code></td>
<td>The third book</td>
</tr>
<tr>
<td><code>$..book[(@.length-1)]</code></td>
<td>The last book via script subscript</td>
</tr>
<tr>
<td><code>$..book[-1:]</code></td>
<td>The last book via slice</td>
</tr>
<tr>
<td><code>$..book[0,1]</code></td>
<td>The first two books via subscript union</td>
</tr>
<tr>
<td><code>$..book[:2]</code></td>
<td>The first two books via subscript array slice</td>
</tr>
<tr>
<td><code>$..book[?(@.isbn)]</code></td>
<td>Filter all books with isbn number</td>
</tr>
<tr>
<td><code>$..book[?(@.price&lt;10)]</code></td>
<td>Filter all books cheaper than 10</td>
</tr>
<tr>
<td><code>$..book[?(@.price==8.95)]</code></td>
<td>Filter all books that cost 8.95</td>
</tr>
<tr>
<td><code>$..book[?(@.price&lt;30 &amp;&amp; @.category==&quot;fiction&quot;)]</code></td>
<td>Filter all fiction books cheaper than 30</td>
</tr>
<tr>
<td><code>$..*</code></td>
<td>All members of JSON structure</td>
</tr>
</tbody>
</table>
<h2 id="appendix"><a class="toc-anchor" href="#appendix">§</a> Appendix</h2>
<h3 id="developer-resources"><a class="toc-anchor" href="#developer-resources">§</a> Developer Resources</h3>
<h4 id="jsonpath"><a class="toc-anchor" href="#jsonpath">§</a> JSONPath</h4>
<ul>
<li><strong>Node.js</strong>
<ul>
<li><a href="https://www.npmjs.com/package/jsonpath">https://www.npmjs.com/package/jsonpath</a></li>
</ul>
</li>
<li><strong>Java</strong>
<ul>
<li><a href="https://github.com/json-path/JsonPath">https://github.com/json-path/JsonPath</a></li>
</ul>
</li>
<li><strong>Kotlin</strong>
<ul>
<li><a href="https://github.com/codeniko/JsonPathKt">https://github.com/codeniko/JsonPathKt</a></li>
</ul>
</li>
<li><strong>Python</strong>
<ul>
<li><a href="https://github.com/kennknowles/python-jsonpath-rw">https://github.com/kennknowles/python-jsonpath-rw</a></li>
</ul>
</li>
<li><strong>Go</strong>
<ul>
<li><a href="https://github.com/PaesslerAG/jsonpath">https://github.com/PaesslerAG/jsonpath</a></li>
</ul>
</li>
</ul>
<h4 id="json-schema-4"><a class="toc-anchor" href="#json-schema-4">§</a> JSON Schema</h4>
<ul>
<li><strong>Node.js</strong>
<ul>
<li><a href="https://www.npmjs.com/package/ajv">https://www.npmjs.com/package/ajv</a></li>
<li><a href="https://www.npmjs.com/package/json-schema">https://www.npmjs.com/package/json-schema</a></li>
</ul>
</li>
<li><strong>Java</strong>
<ul>
<li><a href="https://github.com/ssilverman/snowy-json">https://github.com/ssilverman/snowy-json</a></li>
<li><a href="https://github.com/leadpony/justify">https://github.com/leadpony/justify</a></li>
</ul>
</li>
<li><strong>.NET</strong>
<ul>
<li><a href="https://github.com/gregsdennis/Manatee.Json">https://github.com/gregsdennis/Manatee.Json</a></li>
</ul>
</li>
<li><strong>Kotlin</strong>
<ul>
<li><a href="https://github.com/worldturner/medeia-validator">https://github.com/worldturner/medeia-validator</a></li>
</ul>
</li>
<li><strong>Python</strong>
<ul>
<li><a href="https://github.com/Julian/jsonschema">https://github.com/Julian/jsonschema</a></li>
<li><a href="https://github.com/horejsek/python-fastjsonschema">https://github.com/horejsek/python-fastjsonschema</a></li>
</ul>
</li>
<li><strong>Rust</strong>
<ul>
<li><a href="https://github.com/Stranger6667/jsonschema-rs">https://github.com/Stranger6667/jsonschema-rs</a></li>
</ul>
</li>
<li><strong>Go</strong>
<ul>
<li><a href="https://github.com/xeipuuv/gojsonschema">https://github.com/xeipuuv/gojsonschema</a></li>
</ul>
</li>
</ul>

              </article>    

            </main>

            <slide-panels id="slidepanels">
              <slide-panel id="repo_issues" options="right">
                <header class="panel-header">
                  <span>
                    <svg icon><use xlink:href="#github"></use></svg>
                    <span issue-count></span>
                  </span>
                  <span class="repo-issue-toggle" panel-toggle="repo_issues">✕</span>
                </header>
                <ul id="repo_issue_list"></ul>
              </slide-panel>

              <slide-panel id="toc">
                <header class="panel-header">
                  <span>Table of Contents</span>
                  <span panel-toggle="toc">✕</span>
                </header>
                <div id="toc_list">
                  <ul class="toc">
<li><a href="#abstract">Abstract</a></li>
<li><a href="#status-of-this-document">Status of This Document</a></li>
<li><a href="#terminology">Terminology</a></li>
<li><a href="#localization">Localization</a></li>
<li><a href="#presentation-definition">Presentation Definition</a>
<ul>
<li><a href="#submission-requirements">Submission Requirements</a>
<ul>
<li><a href="#submission-requirement-objects">Submission Requirement Objects</a></li>
<li><a href="#submission-requirement-rules">Submission Requirement Rules</a></li>
<li><a href="#json-schema">JSON Schema</a></li>
<li><a href="#property-values-and-evaluation">Property Values and Evaluation</a></li>
</ul>
</li>
<li><a href="#input-descriptors">Input Descriptors</a>
<ul>
<li><a href="#input-descriptor-objects">Input Descriptor Objects</a></li>
</ul>
</li>
<li><a href="#input-evaluation">Input Evaluation</a>
<ul>
<li><a href="#expired-and-revoked-data">Expired and Revoked Data</a></li>
</ul>
</li>
<li><a href="#json-schema-2">JSON Schema</a></li>
<li><a href="#presentation-requests">Presentation Requests</a></li>
</ul>
</li>
<li><a href="#presentation-submission">Presentation Submission</a>
<ul>
<li><a href="#validation-of-credentials">Validation of Credentials</a></li>
<li><a href="#embed-targets">Embed Targets</a>
<ul>
<li><a href="#embed-locations">Embed Locations</a></li>
</ul>
</li>
<li><a href="#json-schema-3">JSON Schema</a></li>
</ul>
</li>
<li><a href="#credential-format-designations">Credential Format Designations</a></li>
<li><a href="#json-schema-vocabulary-definition">JSON Schema Vocabulary Definition</a></li>
<li><a href="#jsonpath-syntax-definition">JSONPath Syntax Definition</a></li>
<li><a href="#appendix">Appendix</a>
<ul>
<li><a href="#developer-resources">Developer Resources</a>
<ul>
<li><a href="#jsonpath">JSONPath</a></li>
<li><a href="#json-schema-4">JSON Schema</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                </div>
              </slide-panel>
              
            </slide-panels>

          </body>
          <script>window.specConfig = {"title":"DIF Presentation Exchange","spec_directory":"./spec/","output_path":"./","logo":"https://rawcdn.githack.com/decentralized-identity/decentralized-identity.github.io/a3ca39717e440302d1fd99a796e7f00e1c42eb2d/images/logo-flat.svg","logo_link":"https://identity.foundation","source":{"host":"github","account":"decentralized-identity","repo":"presentation-exchange"},"destination":"./","rootResourcePrefix":"./","destinationResourcePrefix":"./"}</script>
          <script src="./spec-up/compiled/body.js" data-manual></script>
        </html>
      